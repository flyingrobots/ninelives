---
id: P7.03
title: Compatibility & Adapter Development Guidance
estimate: 4h
status: blocked
blocked_by:
- P7.02
blocks: []
value: M
---
# [P7.03] Compatibility & Adapter Development Guidance

## Summary

Ensure backward compatibility throughout the crate splitting process. Provide clear documentation, templates, and guidance for external developers wanting to build adapters or integrations on top of `ninelives`'s new modular structure.

## Context

A major architectural change like crate splitting can break existing user code. Maintaining backward compatibility is crucial. Furthermore, clear guidance helps the community extend `ninelives` with new features like custom telemetry sinks, control plane transports, or adaptive laws.

## Design
- **Backward Compatibility**:
    - The top-level `ninelives` crate acts as an umbrella, re-exporting types from `ninelives-core`, `ninelives-control`, `ninelives-observer`.
    - Minimize API changes in `ninelives-core`.
- **Adapter Development Guide**:
    - Create a `docs/ADR-007-adapter-development.md` that outlines best practices, common patterns, and available extension points.
    - Provide a simple example adapter crate template (e.g., in `ninelives-cookbook`).
- **Examples for Extensibility**:
    - Update `ninelives-cookbook` with examples of creating a custom `TelemetrySink` or `AuthProvider` that works with the new crate structure.

## Definition of Done
- [ ] Existing user code (as represented by `ninelives-cookbook` examples and any internal usage) compiles without changes when using the `ninelives` meta-crate.
- [ ] `ADR-007` exists and provides clear guidance for adapter development.
- [ ] `ninelives-cookbook` includes a template or example for building a new extension crate.

## Test Plan

### Automated Checks
- [ ] CI pipeline includes checks for examples (e.g., `cargo test --workspace --examples`).
- [ ] `cargo doc` runs without warnings across the entire workspace.

### Manual Review
- [ ] Review all public `Cargo.toml` files for clarity and proper dependency management.
- [ ] Review `lib.rs` of the `ninelives` meta-crate to ensure all necessary re-exports are present.
- [ ] Review `ADR-007` for completeness and user-friendliness.

## Dependencies
- **Requires**: P7.02 (Control & Observer Crates Split).