---
id: P3.01b
title: Window Statistics
estimate: 2h
status: blocked
blocked_by:
- P3.01a
blocks:
- P3.02a
value: H
---
# [P3.01b] Window Statistics

## Summary

Implement the statistical methods for `SlidingWindow`: calculating sums, rates, and handling time-based decay.

## Steps
1.  Implement `sum()`: Iterate valid buckets.
2.  Implement `rate()`: Sum / Window Duration.
3.  Implement `prune()`: Lazy expiry of old buckets during reads.

## Definition of Done
- [ ] `sum()` and `rate()` implemented.
- [ ] Expired buckets are ignored.

## Test Plan
- [ ] Unit tests with mocked time (Sleeper/Clock) to verify expiration.
