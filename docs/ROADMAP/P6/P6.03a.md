---
id: P6.03a
title: Atomic Swap Logic
estimate: 2h
status: blocked
blocked_by:
- P6.02d
blocks:
- P6.03b
value: H
---
# [P6.03a] Atomic Swap Logic

## Summary

Implement `Adaptive<T>::promote_shadow()` to atomically move shadow value to primary.

## Steps
1.  Implement `compare_exchange` loop or similar on internal state.
2.  Ensure consistency (no partial updates).

## Definition of Done
- [ ] `promote_shadow` works atomically.
