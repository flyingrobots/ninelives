---
id: P6.04
title: Safety Guarantees & Documentation
estimate: 4h
status: blocked
blocked_by:
- P6.03
blocks: []
value: M
---
# [P6.04] Safety Guarantees & Documentation

## Summary

Document the safety guarantees, limitations, and best practices for using the shadow evaluation and promotion system.

## Context

Shadowing is a powerful technique but introduces complexity. Clear documentation is essential for users to understand its behavior, potential risks, and how to operate it safely within `ninelives`.

## Steps
1.  **ADR for Safety**: Create an Architectural Decision Record (e.g., `docs/ADR-006-shadow-safety.md`) detailing:
    -   Guarantees (e.g., primary path latency not affected by shadow, atomic promotion).
    -   Limitations (e.g., what types of policies can be shadowed, potential for resource use).
    -   Best practices (e.g., always include a kill-switch, monitor shadow metrics).
2.  **`ShadowLayer` Doc Comments**: Add detailed explanations to the `ShadowLayer` itself.
3.  **Cookbook Recipes**: Create examples in `ninelives-cookbook` demonstrating safe shadowing practices.

## Definition of Done
- [ ] ADR-006 created and reviewed.
- [ ] `ShadowLayer` doc comments are comprehensive.
- [ ] `ninelives-cookbook` includes a recipe for safe shadowing.

## Test Plan

### Manual Review
- [ ] Review documentation with a critical eye for clarity and completeness.
- [ ] Ensure all claims about safety are backed by implementation details.

### Automated Checks
- [ ] Linting for ADR-006 and other documentation.