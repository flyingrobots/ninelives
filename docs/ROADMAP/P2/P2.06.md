---
id: P2.06
title: P2.06
estimate: null
status: closed
blocked_by:
- P2.01
blocks:
- P2.10
value: null
---
# [P2.06] P2.06

## Summary

Bulkhead max_concurrent is backed by DynamicConfig so live updates change capacity for new acquires.

## Steps
1. Add unit tests for permit growth/shrink handling
2. Implement/verify dynamic capacity update in bulkhead
3. Document live tuning notes and shrink semantics

## Ready When
- [ ] Unit tests cover growth and shrink behavior
- [ ] Docs describe tuning and shrink limitations

## Test Plan

### Unit Tests
- [ ] Increase max_concurrent at runtime adds permits for subsequent requests
- [ ] Decreasing max_concurrent does not deadlock; either no-op or documented behavior
- [ ] Concurrent acquire under update does not panic

### Integration Tests
- [ ] Control-plane write updates max_concurrent and is respected on next calls

### End-to-end Tests
- N/A