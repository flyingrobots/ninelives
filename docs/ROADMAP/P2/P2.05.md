---
id: P2.05
title: P2.05
estimate: null
status: open
blocked_by: []
blocks: []
---
# [P2.05] Adaptive integration: CircuitBreaker thresholds/timeouts

## Summary

CircuitBreaker config (failure_threshold, recovery_timeout, half_open_max_calls) becomes adaptive and honored live.

## Steps
1. Add tests for dynamic failure_threshold (opens sooner when lowered)
2. Test recovery_timeout change affects reopen timing
3. Doc shared handle semantics

## Ready When
- [ ] Circuit breaker adaptive tests pass
- [ ] Docs note live tuning and shared handle behavior

## Test Plan

### Unit Tests
- [ ] Lower failure_threshold at runtime -> breaker opens after new threshold (failing service)
- [ ] Decrease recovery_timeout -> half-open available sooner (mock clock)
- [ ] half_open_max_calls update honored in next half-open cycle

### Integration Tests
- [ ] Control-plane update to thresholds reflected in service behavior

### End-to-end Tests
- N/A