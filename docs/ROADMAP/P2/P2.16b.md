---
id: P2.16b
title: Authorization Logic Integration
estimate: 1.5h
status: blocked
blocked_by:
- P2.16a
blocks:
- P2.18
value: H
---
# [P2.16b] Authorization Logic Integration

## Summary

Implement the actual `call()` logic for `AuthorizationService`. It should inspect the request context, verify permissions, and either error out or forward to the inner service.

## Steps
1.  In `call()`, extract `CommandContext` (or relevant auth info).
2.  Call `provider.authorize()`.
3.  If allowed, call `inner.call()`.
4.  If denied, return `Box::pin(async { Err(CommandError::Auth(...)) })`.

## Definition of Done
- [ ] `call()` implements authorization check.
- [ ] Denials stop the request.

## Test Plan
- [ ] Unit test with mock provider: verify "allow" forwards and "deny" blocks.