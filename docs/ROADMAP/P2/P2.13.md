---
id: P2.13
title: ListConfig handler
estimate: 2h
status: open
blocked_by:
- P2.09
blocks:
- P2.19
value: M
---
# [P2.13] ListConfig handler

## Summary

Implement a `ListConfig` command to enumerate all registered adaptive configuration handles. This allows operators (and GATOS) to discover tunable parameters dynamically.

## Context

The `ConfigRegistry` holds `Adaptive<T>` handles but currently does not expose a way to list them. Operators need to know what keys are available for `ReadConfig`/`WriteConfig`.

## Steps
1. **Extend Registry**: Add `pub fn keys(&self) -> Vec<String>` to `ConfigRegistry`.
2. **Add Command**: Add `BuiltInCommand::ListConfig` variant.
3. **Implement Handler**: Wire the handler to call `registry.keys()` and return `CommandResult::List`.
4. **GATOS Integration**: Ensure this list is consumable by the GATOS CLI for autocomplete.

## Ready When
- [ ] `ConfigRegistry` exposes its keys.
- [ ] `ListConfig` command returns sorted list of paths (e.g., "retry.max_attempts").

## Test Plan

### Unit Tests
- [ ] **Empty Registry**: Returns empty list.
- [ ] **Populated Registry**: Returns all keys.
- [ ] **Ordering**: Keys are sorted alphabetically.

### Integration Tests
- [ ] **End-to-End**: Register a handle, send `ListConfig`, verify key is present in response.