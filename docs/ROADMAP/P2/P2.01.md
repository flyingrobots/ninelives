---
id: P2.01
title: P2.01
estimate: null
status: closed
blocked_by: []
blocks:
- P2.03
- P2.05
- P2.06
- P2.04
value: null
---
# [P2.01] Adaptive core: API + ArcSwap default

## Summary

Build the DynamicConfig/Adaptive core using ArcSwap (default) with get/set/update API and Send+Sync semantics.

## Steps
1. Add focused unit tests for get/set/update and concurrency
2. Implement/verify core behavior
3. Document default backend and safety guarantees

## Ready When
- [ ] Unit tests cover get/set/update and concurrency smoke
- [ ] Docs mention ArcSwap default and Send+Sync

## Test Plan

### Unit Tests
- [ ] get()/set()/update() returns latest value and preserves Arc semantics
- [ ] Concurrent get + set/update across threads does not deadlock or panic (thread::scope smoke test)
- [ ] update closure applies atomically (no lost updates in simple race)
- [ ] Type is Send + Sync (compile-time check)

### Integration Tests
- [ ] cfg(not(feature="adaptive-rwlock")) build/test path covers ArcSwap backend

### End-to-end Tests
- N/A