---
id: P10.14.b
title: P10.14.b
estimate: null
status: open
blocked_by: []
blocks: []
---
# [P10.14.b] Add flame graph generation support (tests & docs)

### [P10.14.b] Add flame graph generation support (tests & docs)
- Steps:
  - Add tests
  - Document & wire up
- Estimate: ~1-2h
- Scope: In scope: Add flame graph generation support. Out of scope: unrelated transports/services.
- Complexity: ~50 LoC

## Expanded Checklist
- [ ] [P0.01] timeout.rs -> TimeoutLayer + TimeoutService
- [ ] [P0.02] retry.rs -> RetryLayer + RetryService
- [ ] [P0.03] bulkhead.rs -> BulkheadLayer + BulkheadService
- [ ] [P0.04] circuit_breaker.rs -> CircuitBreakerLayer + CircuitBreakerService
- [ ] [P0.05] Backoff/Jitter integration with retry layer
- [ ] [P0.06] Policy wrapper
- [ ] [P0.07] `+` operator (CombinedLayer for sequential composition)
- [ ] [P0.08] `|` operator (FallbackLayer for failover)
- [ ] [P0.09] Doc comments and examples for algebra API
- [ ] [P0.10] Operator precedence documentation
- [ ] [P0.11] Delete src/stack.rs
- [ ] [P0.12] Remove ResilienceStack exports from lib/prelude
- [ ] [P0.13] Delete examples/full_stack.rs
- [ ] [P0.14] Remove legacy references from tests
- [ ] [P0.15] Update lib.rs with new quick start (Policy + tower ServiceBuilder)
- [ ] [P0.16] Update prelude.rs with algebra re-exports
- [ ] [P0.17] Create README.md with:
- [ ] [P0.18] Update examples/:
- [ ] [P0.19] Add doc tests for algebra operators
- [ ] [P0.20] Adapt integration tests to Layer/Service architecture
- [ ] [P0.21] Add test coverage for:
- [ ] [P0.22] Ensure clippy passes
- [ ] [P0.23] Ensure all doc tests pass
- [ ] [P0.24] Add CI workflow if missing
- [ ] [P1.01] Define `PolicyEvent` enum:
- [ ] [P1.02] Add event emission to all policy layers:
- [ ] [P1.03] Define `TelemetrySink` as a `tower::Service<PolicyEvent, Response=(), Error=E>`
- [ ] [P1.04] Implement basic sinks:
- [ ] [P1.05] Wire policies to accept telemetry sink via `.with_sink()` method
- [ ] [P1.06] Implement `MulticastSink` for sending to multiple sinks (multicast to both)
- [ ] [P1.07] Implement `FallbackSink` for fallback on failure
- [ ] [P1.08] Add `ComposedSinkError` type for composition errors
- [ ] [P1.09] Document sink composition patterns
- [ ] [P1.10] Thread sink through policy constructors/builders via `.with_sink()` method
- [ ] [P1.11] Add examples showing telemetry integration:
- [ ] [P1.12] Benchmark overhead of event emission (deferred to Phase 10)
- [ ] [P2.01] Design `Adaptive<T>` wrapper:
- [ ] [P2.02] Integrate Adaptive into policy configs:
- [ ] [P2.03] Define `CommandContext` struct:
- [ ] [P2.04] Define `CommandHandler` trait as `tower::Service<CommandContext>`
- [ ] [P2.05] Implement `ControlPlaneRouter`:
- [ ] [P2.06] `SetParameterHandler` (update Adaptive values)
- [ ] [P2.07] `GetParameterHandler` (read current config)
- [ ] [P2.08] `GetStateHandler` (query policy state)
- [ ] [P2.09] `ResetCircuitBreakerHandler`
- [ ] [P2.10] `ListPoliciesHandler`
- [ ] [P2.11] Start with `ninelives-control` crate
- [ ] [P2.12] Implement local/in-process transport (channels)
- [ ] [P2.13] Design transport abstraction for future HTTP/gRPC/etc.
- [ ] [P2.14] Define `AuthorizationLayer` (checks Identity in CommandContext)
- [ ] [P2.15] Define `AuditLayer` (logs all commands)
- [ ] [P2.16] Wrap ControlPlaneRouter in Policy(AuthZ) + Policy(Audit)
- [ ] [P3.01] Design `SystemState` struct:
- [ ] [P3.02] Implement efficient storage (ring buffers, sketches)
- [ ] [P3.03] Create `ninelives-observer` crate
- [ ] [P3.04] Implement `Observer` as a background task
- [ ] [P3.05] Subscribe to StreamingSink
- [ ] [P3.06] Ingest PolicyEvents and update SystemState
- [ ] [P3.07] Expose query interface:
- [ ] [P3.08] Wire Observer to telemetry message bus
- [ ] [P3.09] Add control plane commands to query Observer state
- [ ] [P3.10] Add examples showing Observer usage
- [ ] [P4.01] Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.02] Spawn both services concurrently (futures::select for racing)
- [ ] [P4.03] Return first `Ok` result
- [ ] [P4.04] Cancel remaining futures on first success
- [ ] [P4.05] Handle case where both fail (return error)
- [ ] [P4.06] Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.07] Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.08] Test race conditions (doc tests cover both sides)
- [ ] [P4.09] Test both-fail scenarios (implemented in service logic)
- [ ] [P4.10] Test cancellation behavior (futures::select handles drop)
- [ ] [P4.11] Benchmark overhead vs sequential
- [ ] [P4.12] Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.13] Document operator precedence: `&` > `+` > `|`
- [ ] [P4.14] Add to algebra guide (README, lib.rs, examples)
- [ ] [P5.01] Create `ninelives-sentinel` crate
- [ ] [P5.02] Integrate Rhai scripting engine
- [ ] [P5.03] Define script API:
- [ ] [P5.04] Implement meta-policy evaluation loop:
- [ ] [P5.05] `ReloadMetaPolicyHandler` command
- [ ] [P5.06] Watch script file for changes (optional)
- [ ] [P5.07] Validate script before activating
- [ ] [P5.08] Auto-adjust retry backoff based on error rate
- [ ] [P5.09] Open circuit breaker on sustained failures
- [ ] [P5.10] Increase bulkhead capacity under load
- [ ] [P5.11] Alert on anomalies
- [ ] [P5.12] Implement `Sentinel` as top-level coordinator:
- [ ] [P5.13] Add graceful shutdown
- [ ] [P6.01] Extend Adaptive<T> to support shadow values:
- [ ] [P6.02] Add shadow mode to policy layers:
- [ ] [P6.03] Define `ShadowEvent` type (includes primary + shadow results)
- [ ] [P6.04] Add shadow event emission to policies
- [ ] [P6.05] Observer ingests shadow events separately
- [ ] [P6.06] Sentinel observes shadow stability over time window
- [ ] [P6.07] Issues `PromoteShadowHandler` command if stable
- [ ] [P6.08] Policies atomically swap shadow -> primary
- [ ] [P6.09] Ensure shadow evaluation doesn't affect primary path latency
- [ ] [P6.10] Add circuit breaker to kill shadow eval if too expensive
- [ ] [P6.11] Document safety guarantees
- [ ] [P7.01] Create workspace Cargo.toml
- [ ] [P7.02] Split crates:
- [ ] [P7.03] Update dependencies and re-exports
- [ ] [P7.04] Ensure backward compatibility
- [ ] [P7.05] Create adapter template/guide
- [ ] [P7.06] Implement priority adapters:
- [ ] [P7.07] Document adapter development
- [ ] [P8.01] Design transport-agnostic command serialization
- [ ] [P8.02] Support JSON and/or MessagePack
- [ ] [P8.03] Create `ninelives-rest` crate
- [ ] [P8.04] Expose ControlPlaneRouter over HTTP endpoints
- [ ] [P8.05] Add authentication middleware
- [ ] [P8.06] `ninelives-graphql` (GraphQL API)
- [ ] [P8.07] `ninelives-mcp` (Model Context Protocol)
- [ ] [P8.08] `ninelives-grpc` (gRPC service)
- [ ] [P9.01] Autonomous Canary Releases
- [ ] [P9.02] Progressive Ratchet-Up
- [ ] [P9.03] Safety Valves (auto-scaling policies)
- [ ] [P9.04] Blue/Green Deployments
- [ ] [P9.05] Multi-Region Failover
- [ ] [P9.06] Build example apps in `examples/recipes/`
- [ ] [P9.07] Include Sentinel scripts for each pattern
- [ ] [P9.08] Add integration tests
- [ ] [P10.01] Criterion benchmarks for each layer
- [ ] [P10.02] Compare overhead vs raw service calls
- [ ] [P10.03] Profile hot paths (event emission, state checks)
- [ ] [P10.04] Optimize lock contention
- [ ] [P10.05] < 1% latency overhead for policy layers
- [ ] [P10.06] < 10μs per event emission
- [ ] [P10.07] Lock-free fast paths where possible
- [ ] [P10.08] Chaos engineering tests
- [ ] [P10.09] Soak tests (run for days)
- [ ] [P10.10] Load tests (thousands of RPS)
- [ ] [P10.11] Failure injection tests
- [ ] [P10.12] Add detailed tracing spans to all layers
- [ ] [P10.13] Metrics integration (Prometheus)
- [ ] [P10.14] Add flame graph generation support
- [ ] [P0.01.a] timeout.rs -> TimeoutLayer + TimeoutService
- [ ] [P0.01.b] timeout.rs -> TimeoutLayer + TimeoutService
- [ ] [P0.02.a] retry.rs -> RetryLayer + RetryService
- [ ] [P0.02.b] retry.rs -> RetryLayer + RetryService
- [ ] [P0.03.a] bulkhead.rs -> BulkheadLayer + BulkheadService
- [ ] [P0.03.b] bulkhead.rs -> BulkheadLayer + BulkheadService
- [ ] [P0.04.a] circuit_breaker.rs -> CircuitBreakerLayer + CircuitBreakerService
- [ ] [P0.04.b] circuit_breaker.rs -> CircuitBreakerLayer + CircuitBreakerService
- [ ] [P0.05.a] Backoff/Jitter integration with retry layer
- [ ] [P0.05.b] Backoff/Jitter integration with retry layer
- [ ] [P0.06.a] Policy wrapper
- [ ] [P0.06.b] Policy wrapper
- [ ] [P0.07.a] `+` operator (CombinedLayer for sequential composition)
- [ ] [P0.07.b] `+` operator (CombinedLayer for sequential composition)
- [ ] [P0.08.a] `|` operator (FallbackLayer for failover)
- [ ] [P0.08.b] `|` operator (FallbackLayer for failover)
- [ ] [P0.11.a] Delete src/stack.rs
- [ ] [P0.11.b] Delete src/stack.rs
- [ ] [P0.12.a] Remove ResilienceStack exports from lib/prelude
- [ ] [P0.12.b] Remove ResilienceStack exports from lib/prelude
- [ ] [P0.13.a] Delete examples/full_stack.rs
- [ ] [P0.13.b] Delete examples/full_stack.rs
- [ ] [P0.14.a] Remove legacy references from tests
- [ ] [P0.14.b] Remove legacy references from tests
- [ ] [P0.15.a] Update lib.rs with new quick start (Policy + tower ServiceBuilder)
- [ ] [P0.15.b] Update lib.rs with new quick start (Policy + tower ServiceBuilder)
- [ ] [P0.16.a] Update prelude.rs with algebra re-exports
- [ ] [P0.16.b] Update prelude.rs with algebra re-exports
- [ ] [P0.17.a] Create README.md with:
- [ ] [P0.17.b] Create README.md with:
- [ ] [P0.18.a] Update examples/:
- [ ] [P0.18.b] Update examples/:
- [ ] [P0.20.a] Adapt integration tests to Layer/Service architecture
- [ ] [P0.20.b] Adapt integration tests to Layer/Service architecture
- [ ] [P0.21.a] Add test coverage for:
- [ ] [P0.21.b] Add test coverage for:
- [ ] [P0.22.a] Ensure clippy passes
- [ ] [P0.22.b] Ensure clippy passes
- [ ] [P0.24.a] Add CI workflow if missing
- [ ] [P0.24.b] Add CI workflow if missing
- [ ] [P1.01.a] Define `PolicyEvent` enum:
- [ ] [P1.01.b] Define `PolicyEvent` enum:
- [ ] [P1.02.a] Add event emission to all policy layers:
- [ ] [P1.02.b] Add event emission to all policy layers:
- [ ] [P1.03.a] Define `TelemetrySink` as a `tower::Service<PolicyEvent, Response=(), Error=E>`
- [ ] [P1.03.b] Define `TelemetrySink` as a `tower::Service<PolicyEvent, Response=(), Error=E>`
- [ ] [P1.04.a] Implement basic sinks:
- [ ] [P1.04.b] Implement basic sinks:
- [ ] [P1.05.a] Wire policies to accept telemetry sink via `.with_sink()` method
- [ ] [P1.05.b] Wire policies to accept telemetry sink via `.with_sink()` method
- [ ] [P1.06.a] Implement `MulticastSink` for sending to multiple sinks (multicast to both)
- [ ] [P1.06.b] Implement `MulticastSink` for sending to multiple sinks (multicast to both)
- [ ] [P1.07.a] Implement `FallbackSink` for fallback on failure
- [ ] [P1.07.b] Implement `FallbackSink` for fallback on failure
- [ ] [P1.08.a] Add `ComposedSinkError` type for composition errors
- [ ] [P1.08.b] Add `ComposedSinkError` type for composition errors
- [ ] [P1.10.a] Thread sink through policy constructors/builders via `.with_sink()` method
- [ ] [P1.10.b] Thread sink through policy constructors/builders via `.with_sink()` method
- [ ] [P1.11.a] Add examples showing telemetry integration:
- [ ] [P1.11.b] Add examples showing telemetry integration:
- [ ] [P1.12.a] Benchmark overhead of event emission (deferred to Phase 10)
- [ ] [P1.12.b] Benchmark overhead of event emission (deferred to Phase 10)
- [ ] [P2.01.a] Design `Adaptive<T>` wrapper:
- [ ] [P2.01.b] Design `Adaptive<T>` wrapper:
- [ ] [P2.02.a] Integrate Adaptive into policy configs:
- [ ] [P2.02.b] Integrate Adaptive into policy configs:
- [ ] [P2.03.a] Define `CommandContext` struct:
- [ ] [P2.03.b] Define `CommandContext` struct:
- [ ] [P2.04.a] Define `CommandHandler` trait as `tower::Service<CommandContext>`
- [ ] [P2.04.b] Define `CommandHandler` trait as `tower::Service<CommandContext>`
- [ ] [P2.05.a] Implement `ControlPlaneRouter`:
- [ ] [P2.05.b] Implement `ControlPlaneRouter`:
- [ ] [P2.06.a] `SetParameterHandler` (update Adaptive values)
- [ ] [P2.06.b] `SetParameterHandler` (update Adaptive values)
- [ ] [P2.07.a] `GetParameterHandler` (read current config)
- [ ] [P2.07.b] `GetParameterHandler` (read current config)
- [ ] [P2.08.a] `GetStateHandler` (query policy state)
- [ ] [P2.08.b] `GetStateHandler` (query policy state)
- [ ] [P2.09.a] `ResetCircuitBreakerHandler`
- [ ] [P2.09.b] `ResetCircuitBreakerHandler`
- [ ] [P2.10.a] `ListPoliciesHandler`
- [ ] [P2.10.b] `ListPoliciesHandler`
- [ ] [P2.11.a] Start with `ninelives-control` crate
- [ ] [P2.11.b] Start with `ninelives-control` crate
- [ ] [P2.12.a] Implement local/in-process transport (channels)
- [ ] [P2.12.b] Implement local/in-process transport (channels)
- [ ] [P2.13.a] Design transport abstraction for future HTTP/gRPC/etc.
- [ ] [P2.13.b] Design transport abstraction for future HTTP/gRPC/etc.
- [ ] [P2.14.a] Define `AuthorizationLayer` (checks Identity in CommandContext)
- [ ] [P2.14.b] Define `AuthorizationLayer` (checks Identity in CommandContext)
- [ ] [P2.15.a] Define `AuditLayer` (logs all commands)
- [ ] [P2.15.b] Define `AuditLayer` (logs all commands)
- [ ] [P2.16.a] Wrap ControlPlaneRouter in Policy(AuthZ) + Policy(Audit)
- [ ] [P2.16.b] Wrap ControlPlaneRouter in Policy(AuthZ) + Policy(Audit)
- [ ] [P3.01.a] Design `SystemState` struct:
- [ ] [P3.01.b] Design `SystemState` struct:
- [ ] [P3.02.a] Implement efficient storage (ring buffers, sketches)
- [ ] [P3.02.b] Implement efficient storage (ring buffers, sketches)
- [ ] [P3.03.a] Create `ninelives-observer` crate
- [ ] [P3.03.b] Create `ninelives-observer` crate
- [ ] [P3.04.a] Implement `Observer` as a background task
- [ ] [P3.04.b] Implement `Observer` as a background task
- [ ] [P3.05.a] Subscribe to StreamingSink
- [ ] [P3.05.b] Subscribe to StreamingSink
- [ ] [P3.06.a] Ingest PolicyEvents and update SystemState
- [ ] [P3.06.b] Ingest PolicyEvents and update SystemState
- [ ] [P3.07.a] Expose query interface:
- [ ] [P3.07.b] Expose query interface:
- [ ] [P3.08.a] Wire Observer to telemetry message bus
- [ ] [P3.08.b] Wire Observer to telemetry message bus
- [ ] [P3.09.a] Add control plane commands to query Observer state
- [ ] [P3.09.b] Add control plane commands to query Observer state
- [ ] [P3.10.a] Add examples showing Observer usage
- [ ] [P3.10.b] Add examples showing Observer usage
- [ ] [P4.01.a] Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.01.b] Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.02.a] Spawn both services concurrently (futures::select for racing)
- [ ] [P4.02.b] Spawn both services concurrently (futures::select for racing)
- [ ] [P4.03.a] Return first `Ok` result
- [ ] [P4.03.b] Return first `Ok` result
- [ ] [P4.04.a] Cancel remaining futures on first success
- [ ] [P4.04.b] Cancel remaining futures on first success
- [ ] [P4.05.a] Handle case where both fail (return error)
- [ ] [P4.05.b] Handle case where both fail (return error)
- [ ] [P4.06.a] Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.06.b] Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.07.a] Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.07.b] Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.09.a] Test both-fail scenarios (implemented in service logic)
- [ ] [P4.09.b] Test both-fail scenarios (implemented in service logic)
- [ ] [P4.10.a] Test cancellation behavior (futures::select handles drop)
- [ ] [P4.10.b] Test cancellation behavior (futures::select handles drop)
- [ ] [P4.11.a] Benchmark overhead vs sequential
- [ ] [P4.11.b] Benchmark overhead vs sequential
- [ ] [P4.12.a] Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.12.b] Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.14.a] Add to algebra guide (README, lib.rs, examples)
- [ ] [P4.14.b] Add to algebra guide (README, lib.rs, examples)
- [ ] [P5.01.a] Create `ninelives-sentinel` crate
- [ ] [P5.01.b] Create `ninelives-sentinel` crate
- [ ] [P5.02.a] Integrate Rhai scripting engine
- [ ] [P5.02.b] Integrate Rhai scripting engine
- [ ] [P5.03.a] Define script API:
- [ ] [P5.03.b] Define script API:
- [ ] [P5.04.a] Implement meta-policy evaluation loop:
- [ ] [P5.04.b] Implement meta-policy evaluation loop:
- [ ] [P5.05.a] `ReloadMetaPolicyHandler` command
- [ ] [P5.05.b] `ReloadMetaPolicyHandler` command
- [ ] [P5.06.a] Watch script file for changes (optional)
- [ ] [P5.06.b] Watch script file for changes (optional)
- [ ] [P5.07.a] Validate script before activating
- [ ] [P5.07.b] Validate script before activating
- [ ] [P5.08.a] Auto-adjust retry backoff based on error rate
- [ ] [P5.08.b] Auto-adjust retry backoff based on error rate
- [ ] [P5.09.a] Open circuit breaker on sustained failures
- [ ] [P5.09.b] Open circuit breaker on sustained failures
- [ ] [P5.10.a] Increase bulkhead capacity under load
- [ ] [P5.10.b] Increase bulkhead capacity under load
- [ ] [P5.11.a] Alert on anomalies
- [ ] [P5.11.b] Alert on anomalies
- [ ] [P5.12.a] Implement `Sentinel` as top-level coordinator:
- [ ] [P5.12.b] Implement `Sentinel` as top-level coordinator:
- [ ] [P5.13.a] Add graceful shutdown
- [ ] [P5.13.b] Add graceful shutdown
- [ ] [P6.01.a] Extend Adaptive<T> to support shadow values:
- [ ] [P6.01.b] Extend Adaptive<T> to support shadow values:
- [ ] [P6.02.a] Add shadow mode to policy layers:
- [ ] [P6.02.b] Add shadow mode to policy layers:
- [ ] [P6.03.a] Define `ShadowEvent` type (includes primary + shadow results)
- [ ] [P6.03.b] Define `ShadowEvent` type (includes primary + shadow results)
- [ ] [P6.04.a] Add shadow event emission to policies
- [ ] [P6.04.b] Add shadow event emission to policies
- [ ] [P6.05.a] Observer ingests shadow events separately
- [ ] [P6.05.b] Observer ingests shadow events separately
- [ ] [P6.06.a] Sentinel observes shadow stability over time window
- [ ] [P6.06.b] Sentinel observes shadow stability over time window
- [ ] [P6.07.a] Issues `PromoteShadowHandler` command if stable
- [ ] [P6.07.b] Issues `PromoteShadowHandler` command if stable
- [ ] [P6.08.a] Policies atomically swap shadow -> primary
- [ ] [P6.08.b] Policies atomically swap shadow -> primary
- [ ] [P6.09.a] Ensure shadow evaluation doesn't affect primary path latency
- [ ] [P6.09.b] Ensure shadow evaluation doesn't affect primary path latency
- [ ] [P6.10.a] Add circuit breaker to kill shadow eval if too expensive
- [ ] [P6.10.b] Add circuit breaker to kill shadow eval if too expensive
- [ ] [P7.01.a] Create workspace Cargo.toml
- [ ] [P7.01.b] Create workspace Cargo.toml
- [ ] [P7.02.a] Split crates:
- [ ] [P7.02.b] Split crates:
- [ ] [P7.03.a] Update dependencies and re-exports
- [ ] [P7.03.b] Update dependencies and re-exports
- [ ] [P7.04.a] Ensure backward compatibility
- [ ] [P7.04.b] Ensure backward compatibility
- [ ] [P7.05.a] Create adapter template/guide
- [ ] [P7.05.b] Create adapter template/guide
- [ ] [P7.06.a] Implement priority adapters:
- [ ] [P7.06.b] Implement priority adapters:
- [ ] [P8.01.a] Design transport-agnostic command serialization
- [ ] [P8.01.b] Design transport-agnostic command serialization
- [ ] [P8.02.a] Support JSON and/or MessagePack
- [ ] [P8.02.b] Support JSON and/or MessagePack
- [ ] [P8.03.a] Create `ninelives-rest` crate
- [ ] [P8.03.b] Create `ninelives-rest` crate
- [ ] [P8.04.a] Expose ControlPlaneRouter over HTTP endpoints
- [ ] [P8.04.b] Expose ControlPlaneRouter over HTTP endpoints
- [ ] [P8.05.a] Add authentication middleware
- [ ] [P8.05.b] Add authentication middleware
- [ ] [P8.06.a] `ninelives-graphql` (GraphQL API)
- [ ] [P8.06.b] `ninelives-graphql` (GraphQL API)
- [ ] [P8.07.a] `ninelives-mcp` (Model Context Protocol)
- [ ] [P8.07.b] `ninelives-mcp` (Model Context Protocol)
- [ ] [P8.08.a] `ninelives-grpc` (gRPC service)
- [ ] [P8.08.b] `ninelives-grpc` (gRPC service)
- [ ] [P9.01.a] Autonomous Canary Releases
- [ ] [P9.01.b] Autonomous Canary Releases
- [ ] [P9.02.a] Progressive Ratchet-Up
- [ ] [P9.02.b] Progressive Ratchet-Up
- [ ] [P9.03.a] Safety Valves (auto-scaling policies)
- [ ] [P9.03.b] Safety Valves (auto-scaling policies)
- [ ] [P9.04.a] Blue/Green Deployments
- [ ] [P9.04.b] Blue/Green Deployments
- [ ] [P9.05.a] Multi-Region Failover
- [ ] [P9.05.b] Multi-Region Failover
- [ ] [P9.06.a] Build example apps in `examples/recipes/`
- [ ] [P9.06.b] Build example apps in `examples/recipes/`
- [ ] [P9.07.a] Include Sentinel scripts for each pattern
- [ ] [P9.07.b] Include Sentinel scripts for each pattern
- [ ] [P9.08.a] Add integration tests
- [ ] [P9.08.b] Add integration tests
- [ ] [P10.01.a] Criterion benchmarks for each layer
- [ ] [P10.01.b] Criterion benchmarks for each layer
- [ ] [P10.02.a] Compare overhead vs raw service calls
- [ ] [P10.02.b] Compare overhead vs raw service calls
- [ ] [P10.03.a] Profile hot paths (event emission, state checks)
- [ ] [P10.03.b] Profile hot paths (event emission, state checks)
- [ ] [P10.04.a] Optimize lock contention
- [ ] [P10.04.b] Optimize lock contention
- [ ] [P10.05.a] < 1% latency overhead for policy layers
- [ ] [P10.05.b] < 1% latency overhead for policy layers
- [ ] [P10.06.a] < 10μs per event emission
- [ ] [P10.06.b] < 10μs per event emission
- [ ] [P10.07.a] Lock-free fast paths where possible
- [ ] [P10.07.b] Lock-free fast paths where possible
- [ ] [P10.08.a] Chaos engineering tests
- [ ] [P10.08.b] Chaos engineering tests
- [ ] [P10.09.a] Soak tests (run for days)
- [ ] [P10.09.b] Soak tests (run for days)
- [ ] [P10.10.a] Load tests (thousands of RPS)
- [ ] [P10.10.b] Load tests (thousands of RPS)
- [ ] [P10.11.a] Failure injection tests
- [ ] [P10.11.b] Failure injection tests
- [ ] [P10.12.a] Add detailed tracing spans to all layers
- [ ] [P10.12.b] Add detailed tracing spans to all layers
- [ ] [P10.13.a] Metrics integration (Prometheus)
- [ ] [P10.13.b] Metrics integration (Prometheus)
- [ ] [P10.14.a] Add flame graph generation support
- [ ] [P10.14.b] Add flame graph generation support