---
id: P10.02c
title: Alloc & Arc Review
estimate: 2h
status: blocked
blocked_by:
- P10.02b
blocks:
- P10.02d
value: H
---
# [P10.02c] Alloc & Arc Review

## Summary

Reduce cloning/allocations and atomic reference counting on hot paths.

## Steps
1.  Profile allocations.
2.  Reuse buffers where possible.
3.  **Bundle Arcs**: Refactor services to use a shared `Context` struct (e.g., `Arc<CircuitBreakerContext>`) instead of holding separate `Arc<State>`, `Arc<Config>`, `Arc<Clock>`. This reduces atomic ops from 4 per request to 1.

## Definition of Done
- [ ] Allocs minimized.
- [ ] Atomic ops per request reduced.

## Test Plan
- [ ] Benchmarks confirm throughput increase.
