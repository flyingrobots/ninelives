# Phase 4

Executive Summary: Implement the "happy eyeballs" parallel composition operator.

## Tasks
- [ ] [P4.01](P4.01.md) Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.01.a](P4.01.a.md) Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.01.b](P4.01.b.md) Design `ForkJoinLayer` and `ForkJoinService`
- [ ] [P4.02](P4.02.md) Spawn both services concurrently (futures::select for racing)
- [ ] [P4.02.a](P4.02.a.md) Spawn both services concurrently (futures::select for racing)
- [ ] [P4.02.b](P4.02.b.md) Spawn both services concurrently (futures::select for racing)
- [ ] [P4.03](P4.03.md) Return first `Ok` result
- [ ] [P4.03.a](P4.03.a.md) Return first `Ok` result
- [ ] [P4.03.b](P4.03.b.md) Return first `Ok` result
- [ ] [P4.04](P4.04.md) Cancel remaining futures on first success
- [ ] [P4.04.a](P4.04.a.md) Cancel remaining futures on first success
- [ ] [P4.04.b](P4.04.b.md) Cancel remaining futures on first success
- [ ] [P4.05](P4.05.md) Handle case where both fail (return error)
- [ ] [P4.05.a](P4.05.a.md) Handle case where both fail (return error)
- [ ] [P4.05.b](P4.05.b.md) Handle case where both fail (return error)
- [ ] [P4.06](P4.06.md) Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.06.a](P4.06.a.md) Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.06.b](P4.06.b.md) Implement `BitAnd` trait for `Policy<L>`
- [ ] [P4.07](P4.07.md) Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.07.a](P4.07.a.md) Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.07.b](P4.07.b.md) Returns `Policy<ForkJoinLayer<A, B>>`
- [ ] [P4.08](P4.08.md) Test race conditions (doc tests cover both sides)
- [ ] [P4.09](P4.09.md) Test both-fail scenarios (implemented in service logic)
- [ ] [P4.09.a](P4.09.a.md) Test both-fail scenarios (implemented in service logic)
- [ ] [P4.09.b](P4.09.b.md) Test both-fail scenarios (implemented in service logic)
- [ ] [P4.10](P4.10.md) Test cancellation behavior (futures::select handles drop)
- [ ] [P4.10.a](P4.10.a.md) Test cancellation behavior (futures::select handles drop)
- [ ] [P4.10.b](P4.10.b.md) Test cancellation behavior (futures::select handles drop)
- [ ] [P4.11](P4.11.md) Benchmark overhead vs sequential
- [ ] [P4.11.a](P4.11.a.md) Benchmark overhead vs sequential
- [ ] [P4.11.b](P4.11.b.md) Benchmark overhead vs sequential
- [ ] [P4.12](P4.12.md) Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.12.a](P4.12.a.md) Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.12.b](P4.12.b.md) Add examples: IPv4/IPv6, cache strategies
- [ ] [P4.13](P4.13.md) Document operator precedence: `&` > `+` > `|`
- [ ] [P4.14](P4.14.md) Add to algebra guide (README, lib.rs, examples)
- [ ] [P4.14.a](P4.14.a.md) Add to algebra guide (README, lib.rs, examples)
- [ ] [P4.14.b](P4.14.b.md) Add to algebra guide (README, lib.rs, examples)

## Definition of Ready
- TBD
